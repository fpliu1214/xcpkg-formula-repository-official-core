summary: Lightweight RPC library (based on XML and HTTP)
web-url: https://xmlrpc-c.sourceforge.io/
src-url: https://downloads.sourceforge.net/project/xmlrpc-c/Xmlrpc-c%20Super%20Stable/1.59.03/xmlrpc-c-1.59.03.tgz
src-sha: bdb71db42ab0be51591555885d11682b044c1034d4a3296401bf921ec0b233fe
license: BSD-3-Clause
dep-pkg: libcurl libxml2
binbstd: 1

prepare: |
    CLANG_VERSION_MAJOR="$("$CC" -E -dM - < /dev/null | grep __clang_major__ | cut -d ' ' -f3)"
    CLANG_VERSION_MINOR="$("$CC" -E -dM - < /dev/null | grep __clang_minor__ | cut -d ' ' -f3)"
    CLANG_VERSION_PATCH="$("$CC" -E -dM - < /dev/null | grep __clang_patchlevel__ | cut -d ' ' -f3)"

    if [ "$CLANG_VERSION_MAJOR$CLANG_VERSION_MINOR$CLANG_VERSION_PATCH" -ge 1403 ] ; then
        export CFLAGS="$CFLAGS -Wno-implicit-function-declaration"
    fi

install: configure --enable-libxml2-backend
